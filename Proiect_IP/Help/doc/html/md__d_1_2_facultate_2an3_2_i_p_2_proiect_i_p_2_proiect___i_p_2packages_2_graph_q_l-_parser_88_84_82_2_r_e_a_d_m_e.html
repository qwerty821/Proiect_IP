<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Proiect IP: GraphQL.NET Parser</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Proiect IP
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">GraphQL.NET Parser</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> <img src="https://img.shields.io/github/license/graphql-dotnet/parser" alt="License" class="inline"/> <a href="https://codecov.io/gh/graphql-dotnet/parser"><img src="https://codecov.io/gh/graphql-dotnet/parser/branch/master/graph/badge.svg?token=GEjwg1by60" alt="codecov" style="pointer-events: none;" class="inline"/></a> <a href="https://www.nuget.org/packages/GraphQL-Parser"><img src="https://img.shields.io/nuget/dt/GraphQL-Parser" alt="Nuget" class="inline"/></a> <a href="https://www.nuget.org/packages/GraphQL-Parser"><img src="https://img.shields.io/nuget/v/GraphQL-Parser" alt="Nuget" class="inline"/></a> <a href="https://github.com/graphql-dotnet/parser/releases"><img src="https://img.shields.io/github/release-date/graphql-dotnet/parser?label=released" alt="GitHub Release Date" class="inline"/></a> <a href="https://github.com/graphql-dotnet/parser/commits/master"><img src="https://img.shields.io/github/commits-since/graphql-dotnet/parser/latest?label=new+commits" alt="GitHub commits since latest release (by date)" class="inline"/></a> <a href="https://github.com/graphql-dotnet/parser/graphs/contributors"><img src="https://img.shields.io/github/contributors/graphql-dotnet/parser" alt="GitHub contributors" class="inline"/></a> <img src="https://img.shields.io/github/repo-size/graphql-dotnet/parser" alt="Size" class="inline"/></p>
<p>This library contains a lexer and parser as well as the complete <a href="http://spec.graphql.org/October2021/#sec-Appendix-Grammar-Summary">GraphQL AST model</a> that allows you to work with GraphQL documents compatible with the <a href="https://spec.graphql.org/October2021/">October 2021 spec</a>.</p>
<p>The parser from this library is used by the <a href="https://github.com/graphql-dotnet/graphql-dotnet">GraphQL.NET</a> project and was <a href="https://codecov.io/gh/graphql-dotnet/parser">verified</a> by many test data sets.</p>
<p>Preview versions of this package are available on <a href="https://github.com/orgs/graphql-dotnet/packages?repo_name=parser">GitHub Packages</a>.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
1. Lexer</h1>
<p>Generates token based on input text. Lexer takes advantage of <code>ReadOnlyMemory&lt;char&gt;</code> and in most cases does not allocate memory on the managed heap at all.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Usage</h2>
<div class="fragment"><div class="line">var token = Lexer.Lex(<span class="stringliteral">&quot;\&quot;str\&quot;&quot;</span>);</div>
</div><!-- fragment --><p>Lex method always returns the first token it finds. In this case case the result would look like following. <img src="assets/lexer-example.png" alt="lexer example" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md3"></a>
2. Parser</h1>
<p>Parses provided GraphQL expression into AST (abstract syntax tree). Parser also takes advantage of <code>ReadOnlyMemory&lt;char&gt;</code> but still allocates memory for AST.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Usage</h2>
<div class="fragment"><div class="line">var ast1 = Parser.Parse(<span class="stringliteral">@&quot;</span></div>
<div class="line"><span class="stringliteral">{</span></div>
<div class="line"><span class="stringliteral">  field</span></div>
<div class="line"><span class="stringliteral">}&quot;</span>);</div>
<div class="line"> </div>
<div class="line">var ast2 = Parser.Parse(<span class="stringliteral">@&quot;</span></div>
<div class="line"><span class="stringliteral">{</span></div>
<div class="line"><span class="stringliteral">  field</span></div>
<div class="line"><span class="stringliteral">}&quot;</span>, <span class="keyword">new</span> ParserOptions { Ignore = IgnoreOptions.Comments });</div>
</div><!-- fragment --><p>By default <code>ParserOptions.Ignore</code> is <code>IgnoreOptions.None</code>. If you want to ignore all comments use <code>IgnoreOptions.Comments</code>. If you don't need information about tokens locations in the source document, then use flag <code>IgnoreOptions.Locations</code>. Or just use <code>IgnoreOptions.All</code> and this will maximize the saving of memory allocated in the managed heap for AST.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
3. ASTVisitor</h1>
<p><code>ASTVisitor</code> provides API to traverse AST of the parsed GraphQL document. Default implementation traverses all AST nodes of the provided one. You can inherit from it and override desired methods to implement your own AST processing algorithm.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
SDLPrinter</h2>
<p>For printing SDL from AST, you can use <code>SDLPrinter</code>. This is a highly optimized visitor for asynchronous non-blocking SDL output into provided <code>TextWriter</code>. In the majority of cases it does not allocate memory in the managed heap at all. Extension methods are also provided for printing directly to a string, which utilize the <code>StringBuilder</code> and <code>StringWriter</code> classes.</p>
<div class="fragment"><div class="line">var document = Parser.Parse(<span class="stringliteral">&quot;query { hero { name age } }&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// print to a string with default options</span></div>
<div class="line">var sdl = <span class="keyword">new</span> SDLPrinter().Print(document);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// print to a string builder</span></div>
<div class="line">var sb = <span class="keyword">new</span> StringBuilder();</div>
<div class="line"><span class="keyword">new</span> SDLPrinter().Print(document, sb);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// print to a string with some options</span></div>
<div class="line">var sdlPrinter = <span class="keyword">new</span> SDLPrinter(</div>
<div class="line">    <span class="keyword">new</span> SDLPrinterOptions {</div>
<div class="line">        PrintComments = <span class="keyword">true</span>,</div>
<div class="line">        EachDirectiveLocationOnNewLine = <span class="keyword">true</span>,</div>
<div class="line">        EachUnionMemberOnNewLine = <span class="keyword">true</span>,</div>
<div class="line">    });</div>
<div class="line">var sdl = sdlPrinter.Print(document);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// print to a stream asynchronously</span></div>
<div class="line"><span class="keyword">using </span>var writer = <span class="keyword">new</span> StreamWriter(stream);</div>
<div class="line">await sdlPrinter.PrintAsync(document, writer, <span class="keywordflow">default</span>);</div>
<div class="line">await writer.FlushAsync();</div>
</div><!-- fragment --><p>Output:</p>
<div class="fragment"><div class="line">query {</div>
<div class="line">  hero {</div>
<div class="line">    name</div>
<div class="line">    age</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
SDLSorter</h2>
<p>An AST document can be sorted with the <code>SDLSorter</code> using a predefined sort order. You can specify the string comparison; by default it uses a culture-invariant case-insensitive comparison. Any futher customization is possible by deriving from <code>SDLSorterOptions</code> and overriding the <code>Compare</code> methods.</p>
<div class="fragment"><div class="line">var document = Parser.Parse(<span class="stringliteral">&quot;query { hero { name age } }&quot;</span>);</div>
<div class="line">SDLSorter.Sort(document);</div>
<div class="line">var sdl = <span class="keyword">new</span> SDLPrinter().Print(document);</div>
</div><!-- fragment --><p>Output:</p>
<div class="fragment"><div class="line">query {</div>
<div class="line">  hero {</div>
<div class="line">    age</div>
<div class="line">    name</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
StructurePrinter</h2>
<p>You can also find a <code>StructurePrinter</code> visitor that prints AST into the provided <code>TextWriter</code> as a hierarchy of node types. It can be useful when debugging for better understanding the AST structure. Consider the following GraphQL document:</p>
<div class="fragment"><div class="line">query a { name age }</div>
</div><!-- fragment --><p>After <code>StructurePrinter</code> processing the output text will be</p>
<div class="fragment"><div class="line">Document</div>
<div class="line">  OperationDefinition</div>
<div class="line">    Name [a]</div>
<div class="line">    SelectionSet</div>
<div class="line">      Field</div>
<div class="line">        Name [name]</div>
<div class="line">      Field</div>
<div class="line">        Name [age]</div>
</div><!-- fragment --><p>Usage:</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> async Task PrintStructure(<span class="keywordtype">string</span> sdl)</div>
<div class="line">{</div>
<div class="line">    var document = Parser.Parse(sdl);</div>
<div class="line">    <span class="keyword">using </span>var writer = <span class="keyword">new</span> StringWriter(); </div>
<div class="line">    var printer = <span class="keyword">new</span> StructurePrinter()</div>
<div class="line">    await printer.PrintAsync(document, writer);</div>
<div class="line">    var rendered = writer.ToString();</div>
<div class="line">    Console.WriteLine(rendered);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md9"></a>
Contributors</h1>
<p>This project exists thanks to all the people who contribute. <a href="https://github.com/graphql-dotnet/parser/graphs/contributors"><img src="https://contributors-img.web.app/image?repo=graphql-dotnet/parser" alt="" class="inline"/></a></p>
<p>PRs are welcome! Looking for something to work on? The list of <a href="https://github.com/graphql-dotnet/parser/issues">open issues</a> is a great place to start. You can help the project by simply responding to some of the <a href="https://github.com/graphql-dotnet/parser/issues?q=is%3Aissue+is%3Aopen+label%3Aquestion">asked questions</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
